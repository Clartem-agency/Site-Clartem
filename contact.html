<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - clartem.com</title>

    <!-- FAVICON -->
    <link rel="icon" type="image/x-icon" href="assets/favicon-clartem.ico"> 
    
    <!-- META TAGS -->
    <meta name="robots" content="noindex, follow">
    <meta name="description" content="Contactez clartem.com pour toute question sur la création de votre site web. Remplissez le formulaire, prenez rendez-vous ou envoyez-moi un e-mail.">

    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'deep-blue': '#1E3A8A',
                        'clarity-blue': '#3B82F6',
                        'soft-blue': '#EFF6FF',
                        'warm-orange': '#F97316',
                        'success-green': '#16A34A',
                        'neutral-dark': '#1F2937',
                        'neutral-light': '#6B7280',
                        'destructive': '#DC2626',
                    }
                }
            }
        }
    </script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Style pour le champ de fichier personnalisé -->
    <style>
        #file-upload-input { display: none; }
        #file-list span {
            display: inline-block; background-color: #e0e7ff; color: #3730a3;
            padding: 4px 10px; border-radius: 9999px; font-size: 0.875rem;
            margin: 4px; font-weight: 500;
        }
    </style>
</head>
<body class="bg-white">

    <!-- NAVIGATION (MISE À JOUR) -->
    <nav id="main-nav" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md shadow-md">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="index.html">
                    <img class="h-14 w-auto" src="assets/logo-clartem.svg" alt="Logo clartem.com">
                </a>
                <div class="hidden md:flex items-center space-x-8" id="nav-links">
                    <a href="index.html" class="text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium">Accueil</a>
                    <a href="a-propos.html" class="text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium">À Propos</a>
                    <a href="index.html#plan" class="text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium">Mon Plan</a>
                    <a href="index.html#offres" class="text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium">Mes Offres</a>
                    <a href="blog.html" class="text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium">Blog</a>
                    <a href="portfolio.html" class="text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium">Mes réalisations</a>
                    <a href="faq.html" class="text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium">FAQ</a>
                </div>
                <a href="https://calendly.com/clartem-agency/appel-clarte-creation-de-site-web" target="_blank"
                    rel="noopener noreferrer"
                    class="hidden md:inline-flex items-center justify-center btn btn-primary px-8 h-12">Planifier un appel clarté</a>
                <button id="mobile-menu-button" class="md:hidden text-neutral-dark focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
            <div id="mobile-menu" class="hidden md:hidden mt-4 space-y-2">
                <a href="index.html" class="block text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium py-2">Accueil</a>
                <a href="a-propos.html" class="block text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium py-2">À Propos</a>
                <a href="index.html#plan" class="block text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium py-2">Mon Plan</a>
                <a href="index.html#offres" class="block text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium py-2">Mes Offres</a>
                <a href="portfolio.html" class="block text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium py-2">Mes réalisations</a>
                <a href="faq.html" class="block text-neutral-dark hover:text-clarity-blue transition-colors duration-300 font-medium py-2">FAQ</a>
                <a href="https://calendly.com/clartem-agency/appel-clarte-creation-de-site-web" target="_blank"
                    rel="noopener noreferrer" class="block mt-2 w-full text-center btn btn-primary">Planifier un appel clarté</a>
            </div>
        </div>
    </nav>

    <!-- Contenu principal de la page Contact -->
    <main class="bg-gradient-to-br from-soft-blue via-white to-soft-blue pt-32 pb-20">
        <div class="container mx-auto px-6">
            <div class="text-center max-w-4xl mx-auto">
                <h1 class="text-4xl md:text-5xl font-bold text-neutral-dark mb-4">Parlons de votre projet</h1>
                <p class="text-xl text-neutral-light mb-12">Une question ? Une idée ? Je suis là pour vous aider. Choisissez la méthode qui vous convient le mieux.</p>
            </div>

            <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <!-- Option 1: Email Direct -->
                <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200 text-center flex flex-col items-center justify-center hover:shadow-xl transition-shadow duration-300">
                    <div class="w-16 h-16 bg-soft-blue rounded-full flex items-center justify-center mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-clarity-blue" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
                    </div>
                    <h2 class="text-2xl font-bold text-neutral-dark mb-3">Par E-mail</h2>
                    <p class="text-neutral-light mb-6">La méthode la plus directe pour les questions écrites. Je réponds généralement sous 24h.</p>
                    <a href="mailto:contact@clartem.com" class="btn btn-secondary">Envoyer un e-mail</a>
                </div>

                <!-- Option 2: Appel Clarté -->
                <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200 text-center flex flex-col items-center justify-center hover:shadow-xl transition-shadow duration-300">
                    <div class="w-16 h-16 bg-soft-blue rounded-full flex items-center justify-center mb-6">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-clarity-blue" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                    </div>
                    <h2 class="text-2xl font-bold text-neutral-dark mb-3">Planifier un Appel</h2>
                    <p class="text-neutral-light mb-6">Idéal pour discuter de vive voix de votre projet. Gratuit et sans engagement.</p>
                    <a href="https://calendly.com/clartem-agency/appel-clarte-creation-de-site-web" target="_blank" rel="noopener noreferrer" class="btn btn-primary">Réserver un créneau</a>
                </div>
            </div>

            <!-- SECTION FORMULAIRE DE CONTACT (MODIFIÉE) -->
            <div class="max-w-4xl mx-auto mt-16">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-neutral-dark">Ou remplissez le formulaire ci-dessous</h2>
                    <p class="text-lg text-neutral-light mt-2">Je reviendrai vers vous dans les plus brefs délais.</p>
                </div>
                <div class="bg-white p-8 sm:p-12 rounded-2xl shadow-xl border border-gray-200">
                   
                    
                    <!-- NOUVEAU : Ajout d'un ID au formulaire pour le cibler en JS -->
                   <form id="contact-form" name="contact-form-agence" method="POST" action="/merci-formulaire-contact/" netlify netlify-honeypot="bot-field" enctype="multipart/form-data">
                       
                        <p class="hidden"><label>Ne pas remplir : <input name="bot-field" /></label></p>
                        <input type="hidden" name="form-name" value="contact-form-agence" />
                        <!-- NOUVEAU : Champ caché pour stocker les URLs des images de Cloudinary -->
                        <input type="hidden" name="image-urls" id="cloudinary-urls">

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="first-name" class="block text-sm font-medium text-neutral-dark mb-1">Prénom</label>
                                <input type="text" name="first-name" id="first-name" required class="w-full px-4 py-3 bg-soft-blue/50 border-gray-300 rounded-md focus:ring-clarity-blue focus:border-clarity-blue transition">
                            </div>
                            <div>
                                <label for="last-name" class="block text-sm font-medium text-neutral-dark mb-1">Nom</label>
                                <input type="text" name="last-name" id="last-name" required class="w-full px-4 py-3 bg-soft-blue/50 border-gray-300 rounded-md focus:ring-clarity-blue focus:border-clarity-blue transition">
                            </div>
                            <div class="md:col-span-2">
                                <label for="email" class="block text-sm font-medium text-neutral-dark mb-1">Email</label>
                                <input type="email" name="email" id="email" required class="w-full px-4 py-3 bg-soft-blue/50 border-gray-300 rounded-md focus:ring-clarity-blue focus:border-clarity-blue transition">
                            </div>
                            <div class="md:col-span-2">
                                <label for="subject" class="block text-sm font-medium text-neutral-dark mb-1">Sujet de votre message</label>
                                <select id="subject" name="subject" required class="w-full px-4 py-3 bg-soft-blue/50 border-gray-300 rounded-md focus:ring-clarity-blue focus:border-clarity-blue transition">
                                    <option>Demande de devis pour un Site Clarté</option>
                                    <option>Question sur une de vos offres</option>
                                    <option>Proposition de partenariat</option>
                                    <option>Support pour un site existant</option>
                                    <option>Autre</option>
                                </select>
                            </div>
                            <div class="md:col-span-2">
                                <label for="message" class="block text-sm font-medium text-neutral-dark mb-1">Votre message</label>
                                <textarea id="message" name="message" rows="6" required class="w-full px-4 py-3 bg-soft-blue/50 border-gray-300 rounded-md focus:ring-clarity-blue focus:border-clarity-blue transition"></textarea>
                            </div>
                            <div class="md:col-span-2">
                                <!-- MODIFIÉ : Le champ de téléversement ne s'appelle plus "attachment[]" pour éviter que Netlify ne le traite -->
                                <label class="block text-sm font-medium text-neutral-dark mb-1">Joindre des fichiers (optionnel)</label>
                                <label for="file-upload-input" class="flex justify-center items-center gap-3 w-full px-6 py-8 border-2 border-gray-300 border-dashed rounded-md cursor-pointer bg-soft-blue/50 hover:bg-soft-blue transition">
                                    <svg class="w-8 h-8 text-neutral-light" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-4-4V7a4 4 0 014-4h.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293h3.172a1 1 0 00.707-.293l2.414-2.414A1 1 0 0116.414 3H17a4 4 0 014 4v5a4 4 0 01-4 4H7z"></path></svg>
                                    <span class="text-neutral-dark font-medium">Cliquez pour choisir ou glissez-déposez</span>
                                </label>
                                <input id="file-upload-input" type="file" multiple accept="image/png, image/jpeg, image/gif, image/webp">
                                <div id="file-list" class="mt-3"></div>
                            </div>
                        </div>


                        
                        <div class="md:col-span-2 mt-4">
                            <div class="flex items-start">
                                <div class="flex items-center h-5">
                                    <input id="consent-contact" name="consent-contact" type="checkbox" required class="focus:ring-clarity-blue h-4 w-4 text-clarity-blue border-gray-300 rounded">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label for="consent-contact" class="text-neutral-dark">
                                        En soumettant ce formulaire, j'accepte que mes informations soient utilisées exclusivement dans le cadre de ma demande et de la relation commerciale éthique qui peut en découler. J'ai lu et j'accepte la <a href="politique-de-confidentialite.html" target="_blank" class="font-semibold text-clarity-blue hover:underline">politique de confidentialité</a>.
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="mt-8 text-center">
                            <!-- NOUVEAU : Ajout d'un ID au bouton et d'un message de statut -->
                            <button type="submit" id="submit-button" class="btn btn-primary w-full sm:w-auto text-lg">
                                Envoyer mon message
                            </button>
                            <p id="form-status" class="mt-4 text-sm font-medium"></p>
                        </div>
                    </form>

                        
                
                </div>
            </div>
        </div>
    </main>

    <!-- FOOTER (MIS À JOUR) -->
    <footer class="bg-neutral-dark text-white py-16">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-3 gap-12">
                <div class="space-y-6">
                    <div><a href="index.html"><img class="h-14 w-auto" src="assets/logo-blanc-clartem.svg" alt="Logo clartem.com"></a><p class="text-lg text-neutral-light">Apporter de la clarté dans le chaos digital</p></div>
                    <p class="text-neutral-light leading-relaxed">Je crois que chaque entrepreneur passionné mérite une présence en ligne professionnelle qui travaille pour lui, sans la complexité, le jargon et les coûts exorbitants.</p>
                </div>
                <div class="space-y-6">
                    <h4 class="text-xl font-bold text-white">Navigation</h4>
                    <div class="space-y-3">
                        <a href="index.html" class="block text-neutral-light hover:text-clarity-blue transition-colors duration-300">Accueil</a>
                        <a href="a-propos.html" class="block text-neutral-light hover:text-clarity-blue transition-colors duration-300">À Propos</a>
                        <a href="index.html#plan" class="block text-neutral-light hover:text-clarity-blue transition-colors duration-300">Mon Plan</a>
                        <a href="index.html#offres" class="block text-neutral-light hover:text-clarity-blue transition-colors duration-300">Mes Offres</a>
                        <a href="portfolio.html" class="block text-neutral-light hover:text-clarity-blue transition-colors duration-300">Mes réalisations</a>
                        <a href="faq.html" class="block text-neutral-light hover:text-clarity-blue transition-colors duration-300">FAQ</a>
                        <a href="https://calendly.com/clartem-agency/appel-clarte-creation-de-site-web" target="_blank" rel="noopener noreferrer" class="block text-neutral-light hover:text-clarity-blue transition-colors duration-300">Prendre Rendez-vous</a>
                    </div>
                </div>
                <div class="space-y-6">
                    <h4 class="text-xl font-bold text-white">Informations Légales</h4>
                    <div class="space-y-3">
                        <a href="mentions-legales.html" class="block text-neutral-light hover:text-clarity-blue transition-colors duration-300">Mentions Légales</a>
                        <a href="politique-de-confidentialite.html" class="block text-neutral-light hover:text-clarity-blue transition-colors duration-300">Politique de Confidentialité</a>
                        <a href="cgv.html" class="block text-neutral-light hover:text-clarity-blue transition-colors duration-300">Conditions Générales de Vente</a>
                        <a href="contact.html" class="block text-clarity-blue font-semibold hover:text-clarity-blue/80 transition-colors duration-300">Contact</a>
                    </div>
                </div>
            </div>
            <div class="border-t border-neutral-light/20 mt-12 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                    <p class="text-sm text-neutral-light">© 2024 clartem.com. Tous droits réservés.</p>
                    <div class="text-sm text-neutral-light"><span>Conçu avec ❤️ pour apporter de la clarté dans le chaos digital</span></div>
                </div>
            </div>
        </div>
    </footer>

    <!-- JS (Menu mobile + logique Cloudinary) -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Logique du menu mobile (inchangée)
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            }

            // =======================================================
            // NOUVELLE LOGIQUE POUR L'UPLOAD CLOUDINARY
            // =======================================================
            const contactForm = document.getElementById('contact-form');
            const fileInput = document.getElementById('file-upload-input');
            const fileListContainer = document.getElementById('file-list');
            const formStatus = document.getElementById('form-status');
            const submitButton = document.getElementById('submit-button');
            const cloudinaryUrlsInput = document.getElementById('cloudinary-urls');

            // --- VOS INFORMATIONS CLOUDINARY ---
            // Remplacez ces valeurs par les vôtres (visibles sur votre screenshot)
            const CLOUDINARY_CLOUD_NAME = "dbihs2rzm"; 
            const CLOUDINARY_UPLOAD_PRESET = "clartem-contact-upload"; // ou un autre de vos presets
            // ------------------------------------

            const CLOUDINARY_URL = `https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD_NAME}/image/upload`;

            // Afficher les noms des fichiers sélectionnés
            fileInput.addEventListener('change', function() {
                fileListContainer.innerHTML = '';
                if (this.files.length > 0) {
                    for (const file of this.files) {
                        const fileTag = document.createElement('span');
                        fileTag.textContent = file.name;
                        fileListContainer.appendChild(fileTag);
                    }
                }
            });

            // Gérer la soumission du formulaire
            contactForm.addEventListener('submit', async function(event) {
                event.preventDefault();

                const files = fileInput.files;
                
                // S'il n'y a pas de fichiers, on soumet directement à Netlify
                if (files.length === 0) {
                    this.submit();
                    return;
                }

                // S'il y a des fichiers, on commence l'upload
                submitButton.disabled = true;
                submitButton.textContent = 'Téléversement en cours...';
                formStatus.textContent = `Téléversement de 1/${files.length} fichier(s)...`;
                formStatus.style.color = '#1E3A8A'; // deep-blue

                const uploadedUrls = [];
                
                try {
                    for (let i = 0; i < files.length; i++) {
                        const file = files[i];
                        formStatus.textContent = `Téléversement de ${i + 1}/${files.length} fichier(s)...`;

                        const formData = new FormData();
                        formData.append('file', file);
                        formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);

                        const response = await fetch(CLOUDINARY_URL, {
                            method: 'POST',
                            body: formData,
                        });

                        if (!response.ok) {
                            throw new Error(`Erreur lors de l'upload du fichier ${file.name}`);
                        }

                        const data = await response.json();
                        uploadedUrls.push(data.secure_url);
                    }
                    
                    // Une fois tous les uploads terminés
                    cloudinaryUrlsInput.value = uploadedUrls.join(', ');

                    // On soumet le formulaire à Netlify
                    formStatus.textContent = 'Finalisation...';
                    this.submit();

                } catch (error) {
                    console.error(error);
                    formStatus.textContent = "Une erreur est survenue lors de l'envoi des fichiers. Veuillez réessayer.";
                    formStatus.style.color = '#DC2626'; // destructive red
                    submitButton.disabled = false;
                    submitButton.textContent = 'Envoyer mon message';
                }
            });
        });
    </script>
</body>
</html>
