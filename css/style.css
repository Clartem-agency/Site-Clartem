/* style.css */

/* ======================================================= */
/*    CORRECTIF : Empêche le débordement horizontal        */
/* ======================================================= */
body {
    overflow-x: hidden;
}

/* ======================================================= */
/*          NOUVEAUX STYLES DE BOUTONS INTERACTIFS         */
/* ======================================================= */
.btn {
    display: inline-block;
    padding: 12px 28px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 700;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    font-size: 1rem;
    text-align: center;
    cursor: pointer;
    line-height: 1.5; /* Assure un alignement correct du texte */
}

.btn-primary {
    background-image: linear-gradient(120deg, #3B82F6, #1E3A8A, #3B82F6); /* clarity-blue, deep-blue */
    background-size: 250% auto;
    background-position: 30% 0;
    color: #ffffff;
    box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
    transition: background-position 0.6s ease-in-out, transform 0.3s ease, box-shadow 0.3s ease;
}

.btn-primary:hover {
    background-position: 70% 0;
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
}

.btn-secondary {
    background-color: transparent;
    color: #1E3A8A; /* deep-blue */
    border: 2px solid #1E3A8A; /* deep-blue */
    transition: all 0.35s ease;
    position: relative;
    z-index: 1;
    overflow: hidden;
}

.btn-secondary::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 100%;
    background-color: #1E3A8A; /* deep-blue */
    transition: width 0.35s ease-out;
    z-index: -1;
}

.btn-secondary:hover {
    color: #ffffff;
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(30, 58, 138, 0.25);
}

.btn-secondary:hover::before {
    width: 100%;
}

.btn-orange {
    background-image: linear-gradient(120deg, #fb923c, #F97316); /* warm-orange */
    color: #ffffff;
    border: none;
    box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
    transition: all 0.3s ease-in-out;
}

.btn-orange:hover {
    transform: translateY(-3px);
    box-shadow: 0 7px 25px rgba(249, 115, 22, 0.4);
    filter: brightness(1.1);
}

/* Style pour l'animation de fondu des images */
img.lazy-load {
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
}

img.lazy-load.loaded {
    opacity: 1;
}


/* Styles existants */
html {
    scroll-behavior: smooth;
}

nav.scrolled {
    /* Vous pouvez ajouter des styles ici si vous voulez que la nav change au scroll */
    /* Par exemple, une ombre plus prononcée */
    /* box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); */
}

.portfolio-item {
    transition: transform 0.3s ease, opacity 0.3s ease;
}

.portfolio-item.hidden {
    transform: scale(0.9);
    opacity: 0;
    display: none;
}



/* ======================================================= */
/*             STYLES POUR LA NOUVELLE SECTION HERO        */
/* ======================================================= */
.hero-bg {
    position: relative;
    background-image: url('../assets/background-hero.webp'); /* Image de remplacement de haute qualité */
    background-size: cover;
    background-position: center;
    background-attachment: fixed; /* Effet de parallaxe subtil */
}

.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    /* MODIFIÉ : Superposition dégradée plus sombre pour une meilleure lisibilité */
    background: linear-gradient(0deg, rgba(30, 58, 138, 0.85), rgba(30, 58, 138, 0.7)); 
    z-index: 1;
}

/* Assurez-vous que le contenu est au-dessus de la superposition */
.hero-bg > .container {
    position: relative;
    z-index: 2;
}




/* ======================================================= */
/*    STYLES POUR LA SECTION PROBLÈME AVEC FOND D'ÉCRAN     */
/* ======================================================= */
#problem-section {
    background-image: url('../assets/image-background/background-chaos.webp');
    background-size: cover;
    background-position: center;
    background-attachment: fixed; /* Crée un bel effet de parallaxe au défilement */
}


/* ======================================================= */
/* STYLES POUR LA SECTION VALUE PROPOSITION AVEC FOND D'ÉCRAN */
/* ======================================================= */
#value-proposition-section {
    background-image: url('../assets/image-background/background-value-proposition.webp');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
}


/* ======================================================= */
/*    STYLES POUR LA SECTION "SITE CLARTÉ" AVEC FOND       */
/* ======================================================= */
#site-clarte {
    background-image: url('../assets/image-background/background-clarity-section.webp');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
}


/* ======================================================= */
/*       STYLES POUR L'EFFET DE TRANSITION DE L'OVERLAY POUR LA SECTION "SITE CLARTÉ"   */
/* ======================================================= */

#clarity-overlay {
    /* Ajout d'une transition douce sur l'opacité et le flou */
    transition: opacity 0.6s ease-in-out, backdrop-filter 0.6s ease-in-out;
    will-change: opacity, backdrop-filter;
}

#clarity-overlay.is-faded {
    /* État final : la superposition devient transparente et le flou disparaît */
    opacity: 0;
    backdrop-filter: blur(0px);
}





/* ======================================================= */
/*    STYLES POUR L'EFFET STACKING CARDS (Version Storytelling)  */
/* ======================================================= */

.panel {
    /* La transition est la clé pour un effet fluide */
    transition: transform 0.5s ease-out, opacity 0.5s ease-out;
    /* Assure que la carte du dessus est bien cliquable */
    pointer-events: none; 
}

.panel-card {
    display: grid;
    grid-template-columns: 1fr; /* Colonne unique sur mobile */
    align-items: center;
    gap: 2rem;
    background-color: white;
    border-radius: 1.5rem; /* Coins plus arrondis */
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    overflow: hidden;
    border: 1px solid rgba(0,0,0,0.05);
    padding: 1.5rem;
    pointer-events: auto; /* Le contenu de la carte est cliquable */
}

@media (min-width: 768px) { /* md: */
    .panel-card {
        grid-template-columns: repeat(2, 1fr); /* 2 colonnes sur écrans moyens et plus */
        padding: 0; /* Pas de padding global, on le gère par colonne */
    }
}

.panel-image {
    width: 100%;
    height: 250px; /* Hauteur fixe sur mobile */
    object-fit: cover;
    border-radius: 1rem;
}

@media (min-width: 768px) { /* md: */
    .panel-image {
        height: 100%; /* Prend toute la hauteur de la carte sur grand écran */
        border-radius: 0;
    }
}

.panel-content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: left;
    height: 100%;
}

@media (min-width: 768px) { /* md: */
    .panel-content {
        padding: 2.5rem;
    }
}

.panel-step-badge {
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    border-radius: 9999px;
    font-weight: 700;
    font-size: 1.5rem;
    margin-bottom: 1rem;
    border: 4px solid white;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.panel-title {
    font-size: 1.75rem; /* text-2xl */
    font-weight: 700;
    color: #1F2937; /* neutral-dark */
    margin-bottom: 0.75rem;
}

.panel-text {
    font-size: 1.125rem; /* text-lg */
    color: #6B7280; /* neutral-light */
    line-height: 1.6;
}

.panel-days {
    margin-top: 1rem;
    font-size: 1.125rem; /* text-lg */
    font-weight: 600;
}

/* ======================================================= */
/*             STYLES POUR L'EFFET STICKY (SECTION PROBLÈME)        */
/* ======================================================= */

#problem-scroll-container {
    height: 350vh; 
}

#problem-sticky-content {
    position: sticky;
    top: 0;
    overflow: hidden;
}

.problem-card {
    opacity: 0;
    transform: translateY(-100vh); 
    transition: none; 
    will-change: transform, opacity;
}

/* ======================================================= */
/*    STYLES POUR L'EFFET STICKY (SECTION VALUE PROPOSITION) - MODIFIÉ */
/* ======================================================= */

#value-prop-scroll-container {
    height: 300vh; /* Hauteur suffisante pour l'animation, peut être ajustée */
}

#value-prop-sticky-content {
    position: sticky;
    top: 0;
    overflow: hidden;
}

.value-prop-card {
    opacity: 0;
    /* MODIFICATION CLÉ : L'état initial est maintenant 100% de la largeur de l'écran vers la droite */
    transform: translateX(100vw); 
    transition: none; /* L'animation est gérée par JS, pas par CSS */
    will-change: transform, opacity; /* Optimisation des performances */
}


/* ======================================================= */
/*       STYLES POUR L'ANIMATION DE LA SECTION CLARTÉ      */
/* ======================================================= */

#clarity-section-container {
    height: 550vh; 
}

#clarity-sticky-content {
    position: sticky;
    top: 120px;
    height: calc(100vh - 120px);
    overflow: hidden; 
}

/* État initial pour le texte (gauche et droite) */
.clarity-text-reveal,
.clarity-list-item {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    will-change: opacity, transform;
}

/* NOUVEAU : État initial pour le conteneur de droite (le cadre bleu) */
#clarity-right-card {
    opacity: 0;
    transition: opacity 0.6s ease-out; /* Transition légèrement plus longue pour un effet doux */
    will-change: opacity;
}

/* État final pour le texte */
.clarity-text-reveal.is-visible,
.clarity-list-item.is-visible {
    opacity: 1;
    transform: translateY(0);
}

/* NOUVEAU : État final pour le conteneur de droite */
#clarity-right-card.is-visible {
    opacity: 1;
}


/* ======================================================= */
/*        STYLES POUR L'ANIMATION DE LA SECTION GUIDE      */
/* ======================================================= */

#guide-section-container {
    /* Hauteur suffisante pour les 10 étapes + une pause à la fin */
    height: 550vh; 
}

#guide-sticky-content {
    position: sticky;
    top: 120px;
    height: calc(100vh - 120px);
    overflow: hidden; 
}

/* État initial des éléments à animer */
.guide-reveal-item {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    will-change: opacity, transform;
}

/* État final des éléments animés */
.guide-reveal-item.is-visible {
    opacity: 1;
    transform: translateY(0);
}


/* ======================================================= */
/*             STYLES POUR L'EFFET STICKY (SECTION PROBLÈME)        */
/* ======================================================= */

#problem-scroll-container {
    height: 350vh; 
}

#problem-sticky-content {
    position: sticky;
    top: 0;
}

.problem-card {
    opacity: 0;
    transform: translateY(-100vh); 
    transition: none; 
    will-change: transform, opacity;
}

/* NOUVEAU : Style pour l'icône de frustration */
#frustration-knot-container {
    will-change: transform, opacity;
    transition: opacity 0.3s ease-in-out; /* Pour le fade-in initial */
}


/* ======================================================= */
/* NOUVEAU : STYLES RESPONSIVES POUR DÉSACTIVER LES ANIMATIONS STICKY SUR MOBILE */
/* (S'applique aux écrans de moins de 768px de large) */
/* ======================================================= */
@media (max-width: 767px) {

    /* --- Section Problème --- */
    #problem-scroll-container {
        height: auto !important; /* Annule la hauteur immense */
    }
    #problem-sticky-content {
        position: static !important; /* Annule le sticky */
        height: auto !important;
    }
    .problem-card {
        opacity: 1 !important; /* Rend les cartes visibles par défaut */
        transform: none !important; /* Annule la position initiale animée */
    }
    #frustration-knot-container {
        display: none !important; /* Cache l'icône qui n'a plus d'animation */
    }
    #problem-cards-grid {
        margin-top: -10rem; /* Compense la disparition de l'icône */
    }

    /* --- Section Value Proposition --- */
    #value-prop-scroll-container {
        height: auto !important;
    }
    #value-prop-sticky-content {
        position: static !important;
        height: auto !important;
    }
    .value-prop-card {
        opacity: 1 !important;
        transform: none !important;
    }

    /* --- Section Site Clarté --- */
    #clarity-section-container {
        height: auto !important;
    }
    #clarity-sticky-content {
        position: static !important;
        height: auto !important;
        overflow: visible !important;
    }
    .clarity-text-reveal,
    .clarity-list-item,
    #clarity-right-card {
        opacity: 1 !important;
        transform: none !important;
    }
    /* Rétablit le flux normal pour la grille sur mobile */
    #clarity-sticky-content .grid {
        display: flex;
        flex-direction: column;
        gap: 2rem;
    }
    /* NOUVEAU : Maintient le flou de l'overlay sur mobile pour la lisibilité */
    #clarity-overlay.is-faded {
        opacity: 1; /* Annule la disparition de l'overlay */
        backdrop-filter: blur(4px); /* Rétablit le flou (valeur de 'backdrop-blur-sm') */
    }

    /* --- Section Guide --- */
    #guide-section-container {
        height: auto !important;
    }
    #guide-sticky-content {
        position: static !important;
        height: auto !important;
        overflow: visible !important;
    }
    .guide-reveal-item {
        opacity: 1 !important;
        transform: none !important;
    }
    
    /* --- Section Plan (Stacking Cards) --- */
    .relative.h-\[800vh\] {
        height: auto !important; /* Annule la hauteur immense du conteneur principal */
    }
    .sticky.top-0.flex.h-screen {
        position: relative !important; /* Annule le sticky et le flexbox centré */
        height: auto !important;
        display: block !important; /* Rétablit un affichage normal */
        padding: 1rem 0;
    }
    .panel {
        position: relative !important; /* Annule la position absolue */
        opacity: 1 !important;
        transform: none !important;
        width: 100% !important; /* Prend toute la largeur disponible */
        max-width: 100% !important;
        margin-bottom: 2rem; /* Ajoute de l'espace entre les cartes */
    }
    .panel:last-child {
        margin-bottom: 0;
    }
    .panel-card {
        grid-template-columns: 1fr; /* Force une seule colonne */
        padding: 1.5rem;
    }
    .panel-image {
        height: 250px; /* Hauteur fixe pour l'image */
    }
}
